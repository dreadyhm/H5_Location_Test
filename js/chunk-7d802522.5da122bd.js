(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d802522"],{"02de":function(t,e,i){"use strict";function n(t){var e=window.getComputedStyle(t),i="none"===e.display,n=null===t.offsetParent&&"fixed"!==e.position;return i||n}i.d(e,"a",(function(){return n}))},"0cc8":function(t,e,i){"use strict";i("68ef"),i("ae9e")},1841:function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return c})),i.d(e,"d",(function(){return d}));var n=i("eeb9"),a=i("4a36"),s=i("2e43");function o(t){var e={pageNumber:t,pageSize:a["a"]};return n["a"].post(s["a"].farmland.getList,e)}function r(t){return s["a"].SERVER_URL+s["a"].farmland.generateQRCode+"/"+t}function c(t){return n["a"].get(s["a"].farmland.detail+"/"+t)}function d(t){return n["a"].get(s["a"].farmland.gridInfoById+"/"+t)}},3104:function(t,e,i){"use strict";var n=i("02de"),a=i("ea8e"),s=i("d282"),o=i("a142"),r=i("a8c1"),c=i("5fbe"),d=Object(s["a"])("sticky"),l=d[0],f=d[1];e["a"]=l({mixins:[Object(c["a"])((function(t,e){if(this.scroller||(this.scroller=Object(r["d"])(this.$el)),this.observer){var i=e?"observe":"unobserve";this.observer[i](this.$el)}t(this.scroller,"scroll",this.onScroll,!0),this.onScroll()}))],props:{zIndex:[Number,String],container:null,offsetTop:{type:[Number,String],default:0}},data:function(){return{fixed:!1,height:0,transform:0}},computed:{offsetTopPx:function(){return Object(a["b"])(this.offsetTop)},style:function(){if(this.fixed){var t={};return Object(o["c"])(this.zIndex)&&(t.zIndex=this.zIndex),this.offsetTopPx&&this.fixed&&(t.top=this.offsetTopPx+"px"),this.transform&&(t.transform="translate3d(0, "+this.transform+"px, 0)"),t}}},watch:{fixed:function(t){this.$emit("change",t)}},created:function(){var t=this;!o["g"]&&window.IntersectionObserver&&(this.observer=new IntersectionObserver((function(e){e[0].intersectionRatio>0&&t.onScroll()}),{root:document.body}))},methods:{onScroll:function(){var t=this;if(!Object(n["a"])(this.$el)){this.height=this.$el.offsetHeight;var e=this.container,i=this.offsetTopPx,a=Object(r["c"])(window),s=Object(r["a"])(this.$el),o=function(){t.$emit("scroll",{scrollTop:a,isFixed:t.fixed})};if(e){var c=s+e.offsetHeight;if(a+i+this.height>c){var d=this.height+a-c;return d<this.height?(this.fixed=!0,this.transform=-(d+i)):this.fixed=!1,void o()}}a+i>s?(this.fixed=!0,this.transform=0):this.fixed=!1,o()}}},render:function(){var t=arguments[0],e=this.fixed,i={height:e?this.height+"px":null};return t("div",{style:i},[t("div",{class:f({fixed:e}),style:this.style},[this.slots()])])}})},"4fe6":function(t,e,i){},"7ce6":function(t,e,i){"use strict";i("4fe6")},"8a58":function(t,e,i){"use strict";i("68ef"),i("a71a"),i("9d70"),i("3743"),i("4d75")},ae9e:function(t,e,i){},d0dd:function(t,e,i){"use strict";i.r(e);var n,a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"FarmlandDistribution"}},[i("div",{attrs:{id:"map"}}),t.gridData.length>0?i("van-popup",{staticStyle:{"max-height":"30%",height:"fit-content"},attrs:{position:"bottom",round:""},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[i("div",{staticStyle:{margin:"8px 4px"}},[i("div",[t._v("网格名称："+t._s(t.gridData[0].districtName))]),t._l(t.gridData,(function(e,n){return i("div",{key:n},[i("span",[t._v("网格员"+t._s(n+1)+"："+t._s(e.userName))]),t._v(" ( "),i("a",{attrs:{href:"tel:"+e.mobile}},[t._v(t._s(e.mobile))]),t._v(" ) ")])}))],2)]):t._e()],1)},s=[],o=i("ade3"),r=(i("0cc8"),i("3104")),c=(i("8a58"),i("e41f")),d=(i("38d5"),i("772a")),l=(i("be7f"),i("565f")),f=(i("66b9"),i("b650")),u=(i("b0c0"),i("f3d4")),h=i("1841"),p={name:"FarmlandDistribution",components:(n={},Object(o["a"])(n,f["a"].name,f["a"]),Object(o["a"])(n,l["a"].name,l["a"]),Object(o["a"])(n,d["a"].name,d["a"]),Object(o["a"])(n,c["a"].name,c["a"]),Object(o["a"])(n,r["a"].name,r["a"]),n),data:function(){return{tzMapSdk:{},gridData:{},show:!1}},created:function(){u["a"].reSetNavBar(),u["a"].setTitle("农田分布")},mounted:function(){this.initMap()},methods:{initMap:function(){var t="http://192.168.1.182:6080/arcgis/rest/services/TZ_TZZ_SLTC/TZZ_SLTC_20211008/MapServer";this.tzMapSdk=new tzMapSdkClass,this.tzMapSdk.addProj_4490(),this.tzMapSdk.TianDiTuMapInit("map","vec_c","081d834fc861ac849b217652992982a7",void 0,[106.17,26.16],14),this.tzMapSdk.addTianDiTuLayer("cva_c","081d834fc861ac849b217652992982a7","cva_c"),this.tzMapSdk.addDynamicArcGISRestLayer(t,"dynamic","7,4"),this.tzMapSdk.setVectorLayerIndex(1e3),this.tzMapSdk.addSingleClickCallBack(this.mapClickCallback)},mapClickCallback:function(t,e){var i="http://192.168.1.182:6080/arcgis/rest/services/TZ_TZZ_SLTC/TZZ_SLTC_20211008/MapServer",n="6",a="esriGeometryPoint";this.tzMapSdk.queryArcGISRestByGeometry(i,n,e,a,this.mapQueryCallback)},mapQueryCallback:function(t){if(t.features.length>0){var e=t.features[0].attributes.OBJECTID_1;this.getFarmlandInfoById(e)}},getFarmlandInfoById:function(t){var e=this;Object(h["d"])(t).then((function(t){t.success&&(e.gridData=t.data,e.gridData.length>0&&(e.show=!0))}))}}},m=p,v=(i("7ce6"),i("2877")),b=Object(v["a"])(m,a,s,!1,null,"09f95e84",null);e["default"]=b.exports},e41f:function(t,e,i){"use strict";var n=i("d282"),a=i("a142"),s=i("6605"),o=i("ad06"),r=Object(n["a"])("popup"),c=r[0],d=r[1];e["a"]=c({mixins:[Object(s["a"])()],props:{round:Boolean,duration:[Number,String],closeable:Boolean,transition:String,safeAreaInsetBottom:Boolean,closeIcon:{type:String,default:"cross"},closeIconPosition:{type:String,default:"top-right"},position:{type:String,default:"center"},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0}},beforeCreate:function(){var t=this,e=function(e){return function(i){return t.$emit(e,i)}};this.onClick=e("click"),this.onOpened=e("opened"),this.onClosed=e("closed")},methods:{onClickCloseIcon:function(t){this.$emit("click-close-icon",t),this.close()}},render:function(){var t,e=arguments[0];if(this.shouldRender){var i=this.round,n=this.position,s=this.duration,r="center"===n,c=this.transition||(r?"van-fade":"van-popup-slide-"+n),l={};if(Object(a["c"])(s)){var f=r?"animationDuration":"transitionDuration";l[f]=s+"s"}return e("transition",{attrs:{appear:this.transitionAppear,name:c},on:{afterEnter:this.onOpened,afterLeave:this.onClosed}},[e("div",{directives:[{name:"show",value:this.value}],style:l,class:d((t={round:i},t[n]=n,t["safe-area-inset-bottom"]=this.safeAreaInsetBottom,t)),on:{click:this.onClick}},[this.slots(),this.closeable&&e(o["a"],{attrs:{role:"button",tabindex:"0",name:this.closeIcon},class:d("close-icon",this.closeIconPosition),on:{click:this.onClickCloseIcon}})])])}}})}}]);